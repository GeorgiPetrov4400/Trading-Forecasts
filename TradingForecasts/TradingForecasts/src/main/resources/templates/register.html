<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register</title>

    <link rel="icon" type="image/png" sizes="32x32" th:href="@{/images/favicon.png}">
    <link rel="stylesheet" th:href="@{/css/register-style.css}">
</head>

<body>

<nav th:replace="~{fragments/commons::nav}"></nav>

<form th:action="@{/users/register}" th:method="post" th:object="${userRegisterDTO}">
    <div class="container">
        <h1>Register</h1>
        <p>Please fill in this form to create an account.</p>

        <div th:if="${#fields.hasGlobalErrors()}">
            <p th:each="err : ${#fields.globalErrors()}" th:text="${err}" class="errors alert alert-danger" />
        </div>

        <hr>
        <div>
            <label th:for="email"><b>Email</b></label>
            <input th:field="*{email}"
                   type="text" placeholder="Enter valid email" name="email" id="email">

            <p th:each="error : ${#fields.errors('email')}" th:text="${error}"
               class="errors alert alert-danger">
                Valid email is required
            </p>

<!--            <small th:if="${foundByEmail}" class="text-danger"><b>User with this email already exist!</b></small>-->
        </div>
        <div>
            <label th:for="first-name"><b>First name</b></label>
            <input th:field="*{firstName}"
                   type="text" placeholder="First name must be between 2 and 20 characters" name="first-name"
                   id="first-name">
            <!--            required minlength="2" maxlength="20"-->

            <p th:each="error : ${#fields.errors('firstName')}" th:text="${error}"
               class="errors alert alert-danger">
                First name is required.
            </p>
            <!--            th:if="${#fields.hasErrors('firstName')}"-->
        </div>
        <div>
            <label th:for="last-name"><b>Last name</b></label>
            <input th:field="*{lastName}"
                   type="text" placeholder="Last name must be between 2 and 20 characters" name="last-name"
                   id="last-name">
            <!--            required minlength="2" maxlength="20"-->

            <p th:each="error : ${#fields.errors('lastName')}" th:text="${error}"
               class="errors alert alert-danger">
                Last name is required.
            </p>
        </div>
        <div>
            <label for="username"><b>Username</b></label>
            <input th:field="*{username}"
                   type="text" placeholder="Username must be between 3 and 20 characters" name="username"
                   id="username">
            <!--            required minlength="3" maxlength="20"-->

            <p th:each="error : ${#fields.errors('username')}" th:text="${error}"
               class="errors alert alert-danger">
                Username is required.
            </p>

<!--            <small th:if="${foundByUsername}" class="text-danger"><b>Username already exist!</b></small>-->
        </div>
        <div>
            <label for="password"><b>Password</b></label>
            <input th:field="*{password}"
                   type="password" placeholder="Password must be between 5 and 20 characters" name="password"
                   id="password">
            <!--            required minlength="5" maxlength="20"-->

            <p th:each="error : ${#fields.errors('password')}" th:text="${error}"
               class="errors alert alert-danger">
                Password is required.
            </p>
        </div>
        <div>
            <label for="password-repeat"><b>Confirm Password</b></label>
            <input th:field="*{confirmPassword}"
                   type="password" placeholder="Repeat your password"
                   name="password-repeat" id="password-repeat">
            <!--            required minlength="5" maxlength="20"-->

            <p th:each="error : ${#fields.errors('confirmPassword')}" th:text="${error}"
               class="errors alert alert-danger">
                Passwords does not match.
            </p>
        </div>

        <hr>
        <p>By creating an account you agree to our <a class="terms" href="#">Terms & Privacy</a>.</p>

        <button type="submit" class="registerbtn">Register</button>
    </div>

    <div class="container signin">
        <p>Already have an account? <a th:href="@{/users/login}">Sign in</a>.</p>
    </div>
</form>

<footer th:replace="~{fragments/commons::footer}"></footer>
</body>

</html>